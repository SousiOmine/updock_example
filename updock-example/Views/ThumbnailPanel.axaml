<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:updock_example.ViewModels"
             xmlns:models="using:updock_example.Models"
             x:Class="updock_example.Views.ThumbnailPanel"
             x:DataType="vm:ThumbnailViewModel">
  <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
    <ItemsControl ItemsSource="{Binding Thumbnails}">
      <ItemsControl.ItemsPanel>
        <ItemsPanelTemplate>
          <WrapPanel Orientation="Horizontal"/>
        </ItemsPanelTemplate>
      </ItemsControl.ItemsPanel>
      <ItemsControl.ItemTemplate>
        <DataTemplate>
          <Border BorderBrush="Gray" BorderThickness="1" Margin="5" 
                  Background="White" PointerPressed="OnThumbnailClick">
            <StackPanel>
              <Image Source="{Binding ThumbnailImage}" 
                     Width="150" Height="150" Stretch="Uniform"/>
              <TextBlock Text="{Binding FileName}" 
                         HorizontalAlignment="Center" 
                         Margin="0,5,0,5" FontSize="12"/>
            </StackPanel>
          </Border>
        </DataTemplate>
      </ItemsControl.ItemTemplate>
    </ItemsControl>
  </ScrollViewer>
</UserControl>